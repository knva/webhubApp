extends layout

block content

  script.
    $("nav a:eq(0)").attr({class:'blog-nav-item'})
    $("nav a:eq(1)").attr({class:'blog-nav-item active'})
  for iditem in re
    p
      //img(src='#{iditem.image_url}')
      a(href='#{iditem.quality_480p}') #{iditem.video_title}

  nav(aria-label="Page navigation")
    ul.pagination
      


  script(type='text/javascript').
    $(document).ready(function() { 
     window.lencount = !{JSON.stringify(len)}; 
     window.mcurrentpage = !{JSON.stringify(curpage)}; 
      if($(".pagination")){  
        
        var pagecount = lencount;  
        var pagesize = 20;  
        var currentpage = mcurrentpage;
        var counts,pagehtml="";  
        if(pagecount%pagesize==0){  
            counts = parseInt(pagecount/pagesize);  
        }else{  
            counts = parseInt(pagecount/pagesize)+1;  
        }  
        //只有一页内容  
        if(pagecount<=pagesize){pagehtml="";}  
        //大于一页内容  
        if(pagecount>pagesize){  
            if(currentpage>1){  
                pagehtml+= '<li><a href="/users/'+(parseInt(currentpage)-1)+'">上一页</a></li>';  
            }  
            for(var i=0;i<counts;i++){  
                if(i>=(parseInt(currentpage)-3) && i<(parseInt(currentpage)+3)){  
                    if(i==parseInt(currentpage)-1){  
                        pagehtml+= '<li class="active"><a href="/users/'+(parseInt(i)+1)+'">'+(parseInt(i)+1)+'</a></li>';  
                    }else{  
                        pagehtml+= '<li><a href="/users/'+(parseInt(i)+1)+'">'+(parseInt(i)+1)+'</a></li>';  
                    }  
                      
                }  
            }  
            if(currentpage<counts){  
                pagehtml+= '<li><a href="/users/'+(parseInt(currentpage)+1)+'">下一页</a></li>';  
            }  
        }  
        $(".pagination").html(pagehtml);  
    }  });  
  include foot.jade